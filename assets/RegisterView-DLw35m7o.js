import{d as m,u as g,r as n,c as i,o as l,w as y,a as s,b as k,e as d,v as u,t as V,f as _,g as v,h as x,i as C,j as R,_ as f}from"./index-DjzMkU9-.js";const S={class:"form-group"},N=["disabled"],q={class:"form-group"},B=["disabled"],D={class:"form-group"},E=["disabled"],P={key:0,class:"error-message"},U=["disabled"],$={key:0},F={key:1},I={class:"auth-link"},M=m({__name:"RegisterForm",setup(h){const c=g();R();const t=n({username:"",password:"",confirmPassword:""}),o=n(!1),r=n(""),w=async()=>{try{o.value=!0,r.value="",await c.register(t.value),window.dispatchEvent(new CustomEvent("show-notification",{detail:{message:"Аккаунт успешно создан!",type:"success",duration:4e3}}))}catch(p){r.value=p.message}finally{o.value=!1}};return(p,e)=>{const b=x("router-link");return l(),i("form",{onSubmit:y(w,["prevent"]),class:"auth-form"},[e[5]||(e[5]=s("div",{class:"logo"},[s("div",{class:"logo-icon"},"✨"),s("h1",null,"WishLister")],-1)),e[6]||(e[6]=s("h2",null,"Создать аккаунт",-1)),s("div",S,[d(s("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>t.value.username=a),type:"text",placeholder:"Придумайте имя",required:"",disabled:o.value,class:"input-field"},null,8,N),[[u,t.value.username]])]),s("div",q,[d(s("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>t.value.password=a),type:"password",placeholder:"Пароль",required:"",disabled:o.value,class:"input-field"},null,8,B),[[u,t.value.password]])]),s("div",D,[d(s("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>t.value.confirmPassword=a),type:"password",placeholder:"Повторите пароль",required:"",disabled:o.value,class:"input-field"},null,8,E),[[u,t.value.confirmPassword]])]),r.value?(l(),i("div",P,V(r.value),1)):k("",!0),s("button",{type:"submit",disabled:o.value,class:"submit-btn"},[o.value?(l(),i("span",$,"Создаем...")):(l(),i("span",F,"Создать аккаунт"))],8,U),s("p",I,[e[4]||(e[4]=_(" Уже есть аккаунт? ",-1)),v(b,{to:"/login",class:"link"},{default:C(()=>[...e[3]||(e[3]=[_("Войти",-1)])]),_:1})])],32)}}}),T=f(M,[["__scopeId","data-v-93662bb4"]]),j={class:"auth-container"},A={class:"auth-card"},L=m({__name:"RegisterView",setup(h){return(c,t)=>(l(),i("div",j,[s("div",A,[v(T)])]))}}),z=f(L,[["__scopeId","data-v-713ea190"]]);export{z as default};
